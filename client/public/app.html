<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HSPT Vocabulary Flashcards</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;700&family=Poppins:wght@500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
  <!-- Skip Links for keyboard navigation -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <div class="loading-overlay" id="loading-overlay" style="display: none;" role="alert" aria-live="polite" aria-label="Loading content">
    <div class="spinner"></div>
  </div>

  <div class="page">
    <header role="banner">
      <div class="title-block">
        <div class="badge">A+</div>
        <div>
          <h1>HSPT Vocabulary Flashcards</h1>
          <p class="subtitle">Tween-friendly practice ‚Ä¢ Shuffle ‚Ä¢ Quiz ‚Ä¢ Type-to-answer</p>
        </div>
      </div>
      <nav aria-label="Main navigation" style="display: flex; gap: 10px; align-items: center;">
        <div class="pill" id="progress-pill" role="status" aria-live="polite" aria-label="Deck progress">Deck: 0 / 0 ‚Ä¢ Known: 0</div>
        <a href="/stats.html" aria-label="View my statistics" style="color: var(--teal); text-decoration: none; font-weight: 600; padding: 8px 16px; border-radius: 8px; border: 2px solid var(--teal); transition: all 200ms;">üìä My Stats</a>
        <a href="/admin.html" id="admin-link" aria-label="Admin dashboard" style="display: none; color: var(--purple); text-decoration: none; font-weight: 600; padding: 8px 16px; border-radius: 8px; border: 2px solid var(--purple); transition: all 200ms;">Admin Dashboard</a>
        <button id="logout-btn" class="ghost logout-btn" aria-label="Log out of account">Log Out</button>
      </nav>
    </header>

    <section class="gamification-bar" role="region" aria-label="Gamification progress">
      <div class="level-badge" id="level-badge" role="status" aria-label="Current level">
        <div class="level-icon" aria-hidden="true">‚≠ê</div>
        <div class="level-text">
          <div class="level-label">Level <span id="level-number">1</span></div>
          <div class="xp-text"><span id="xp-current">0</span>/<span id="xp-next">100</span> XP</div>
        </div>
      </div>
      <div class="xp-bar-container" role="progressbar" aria-label="XP progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <div class="xp-bar" id="xp-bar"></div>
      </div>
      <div class="streak-badge" id="streak-badge" role="status" aria-label="Daily streak">
        <div class="streak-flame" aria-hidden="true">üî•</div>
        <div class="streak-number" id="streak-number">0</div>
        <div class="streak-label">day streak</div>
      </div>
    </section>

    <div class="grid">
      <div class="card">
        <label for="search-input">Search (word or definition)</label>
        <input id="search-input" type="text" placeholder="type to filter..." />
      </div>
      <div class="card">
        <label id="mode-label">Modes</label>
        <div class="mode-row" role="group" aria-labelledby="mode-label">
          <button class="mode-btn active" data-mode="practice" aria-pressed="true" aria-label="Practice mode: flip flashcards to learn">Practice</button>
          <button class="mode-btn" data-mode="quiz" aria-pressed="false" aria-label="Quiz mode: multiple choice questions">Quiz</button>
          <button class="mode-btn" data-mode="typing" aria-pressed="false" aria-label="Typing mode: type the vocabulary word">Typing</button>
        </div>
        <div class="button-row" style="margin-top:10px;">
          <label class="toggle"><input id="smart-mode-toggle" type="checkbox" aria-label="Enable smart mode with spaced repetition" /> üß† Smart Mode</label>
          <label class="toggle"><input id="shuffle-toggle" type="checkbox" checked aria-label="Shuffle deck order" /> Shuffle deck</label>
          <button id="reset-btn" class="ghost" aria-label="Reset deck and clear known words">Reset deck</button>
        </div>
      </div>
      <div class="card">
        <label id="pos-label">Part of Speech</label>
        <div id="pos-filters" class="pos-filters" role="group" aria-labelledby="pos-label"></div>
        <div class="button-row" style="margin-top:8px;">
          <button id="pos-all" class="ghost" aria-label="Select all parts of speech">All</button>
          <button id="pos-none" class="ghost" aria-label="Deselect all parts of speech">None</button>
        </div>
      </div>
    </div>

    <main role="main" id="main-content">
    <div class="flashcard" id="flashcard" role="article" aria-live="polite" aria-label="Vocabulary flashcard">
      <div class="flashcard-inner">
        <div id="flashcard-front" class="face front" role="region" aria-label="Flashcard front"></div>
        <div id="flashcard-back" class="face back" role="region" aria-label="Flashcard back"></div>
      </div>
      <div class="quiz-area" id="quiz-area" role="region" aria-label="Quiz mode">
        <div id="quiz-prompt" role="heading" aria-level="2"></div>
        <div class="choice-list" id="choice-list" role="radiogroup" aria-label="Answer choices"></div>
        <div style="margin-top: 12px; text-align: center;">
          <button id="quiz-hint-btn" class="ghost" style="font-size: 0.9rem;" aria-label="Get a hint for this question">üí° Need a hint?</button>
          <div id="quiz-hint" class="hint" style="margin-top: 8px; display: none;" role="status" aria-live="polite"></div>
        </div>
      </div>
      <div class="typing-area" id="typing-area" role="region" aria-label="Typing mode">
        <div class="hint" id="typing-prompt" role="heading" aria-level="2"></div>
        <div class="input-row" style="margin-top:8px;">
          <input id="typing-input" type="text" placeholder="type the word" aria-label="Type your answer" autocomplete="off" />
          <button id="typing-submit" class="primary" aria-label="Check your typed answer">Check</button>
        </div>
        <div style="text-align: center; margin-top: 8px;">
          <button id="typing-hint-btn" class="ghost" style="font-size: 0.9rem;" aria-label="Get a hint for this word">üí° Need a hint?</button>
          <div id="typing-hint" class="hint" style="margin-top: 8px; display: none;" role="status" aria-live="polite"></div>
        </div>
        <div class="hint" id="typing-feedback" style="margin-top:6px;" role="status" aria-live="polite"></div>
      </div>
    </div>
    </main>

    <div id="answer-feedback" class="answer-feedback" role="status" aria-live="polite" aria-atomic="true"></div>

    <nav class="button-row" role="navigation" aria-label="Flashcard controls">
      <button id="prev-btn" class="ghost" aria-label="Go to previous card">‚óÄ Prev</button>
      <button id="next-btn" class="ghost" aria-label="Go to next card">Next ‚ñ∂</button>
      <button id="know-btn" class="primary" aria-label="Mark this word as known">I know it</button>
      <button id="notyet-btn" class="danger" aria-label="Mark this word as not yet learned">Not yet</button>
      <button id="achievements-btn" class="ghost" aria-label="View achievements and progress">üèÜ Achievements</button>
    </nav>

    <footer class="meta-row" role="contentinfo">
      <div id="counter" class="counter" role="status" aria-live="polite" aria-label="Card position">0 / 0</div>
      <div class="hint" id="streak" role="status" aria-live="polite" aria-label="Session statistics">Session: <span id="session-correct">0</span> correct ‚Ä¢ <span id="session-xp">0</span> XP earned</div>
    </footer>
    <div class="keyboard-shortcuts hint" style="text-align: center; margin-top: 8px; font-size: 0.8rem; opacity: 0.7;" role="region" aria-label="Keyboard shortcuts">
      <span aria-hidden="true">‚å®Ô∏è</span> Keyboard: <kbd>‚Üê</kbd> Previous ‚Ä¢ <kbd>‚Üí</kbd> Next ‚Ä¢ <kbd>Space</kbd> Flip ‚Ä¢ <kbd>Esc</kbd> Close modal
    </div>
    <div class="progress" role="progressbar" aria-label="Deck progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div id="progress-bar" class="progress-bar"></div></div>
  </div>

  <!-- Achievements Modal -->
  <div class="modal" id="achievements-modal" role="dialog" aria-labelledby="modal-title" aria-modal="true" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" id="modal-close" aria-label="Close achievements modal">‚úï</button>
      <h2 class="modal-title" id="modal-title">üéâ Your Progress!</h2>
      <div class="session-stats" id="session-stats">
        <div class="stat-card">
          <div class="stat-value" id="modal-xp">0</div>
          <div class="stat-label">XP Earned</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="modal-correct">0</div>
          <div class="stat-label">Correct Answers</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="modal-streak">0</div>
          <div class="stat-label">Current Streak</div>
        </div>
      </div>
      <div class="achievements-grid" id="achievements-grid"></div>
      <button class="primary" id="continue-btn" style="width: 100%; margin-top: 20px;">Continue Learning</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
